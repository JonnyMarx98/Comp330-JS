<html>
<canvas id="gameCanvas" width="800" height="600"></canvas>
n
<script>
    var canvas;
    var canvasContext;
    var playerX = 50;
    var playerY = 50;
    const PLAYER_WIDTH = 50;
    const PLAYER_HEIGHT = 50;
    var keyW = false;
    var keyA = false;
    var keyS = false;
    var keyD = false;
    var bullets = [];

    var PlayerSpeed = 5;

    window.addEventListener("keydown", keyDownHandler, false);
    window.addEventListener("keyup", keyUpHandler, false);

    function keyDownHandler(e) {
        if(e.keyCode == 68) {
            keyD = true;
        }
        if(e.keyCode == 83) {
            keyS = true;
        }
        if(e.keyCode == 65) {
            keyA = true;
        }
        if(e.keyCode == 87) {
            keyW = true;
        }

    }
    function keyUpHandler(e) {
        if(e.keyCode == 68) {
            keyD = false;
        }
        if(e.keyCode == 83) {
            keyS = false;
        }
        if(e.keyCode == 65) {
            keyA = false;
        }
        if(e.keyCode == 87) {
            keyW = false;
        }
    }

    function handleMouseClick(evt) {
        spawnProjectile();
    }

    window.onload = function() {
        canvas = document.getElementById('gameCanvas');
        canvasContext = canvas.getContext('2d');

        var framesPerSecond = 60;
        setInterval(function() {
            moveEverything();
            drawEverything();
        }, 1000/framesPerSecond);

        canvas.addEventListener('mousedown', handleMouseClick);
    }

    function moveEverything() {
        // ballX = ballX + 5;
        if(keyD){
            playerX += PlayerSpeed;
        }
        if(keyA) {
            playerX -= PlayerSpeed;
        }
        if(keyS) {
            playerY += PlayerSpeed;
        }
        if(keyW) {
            playerY -= PlayerSpeed;
        }
    }

    function drawEverything() {
        // next line blanks out the screen with grey
        colourRect(0,0,canvas.width,canvas.height,'#e6b800');

        // this is the player
        colourRect(playerX,playerY,PLAYER_WIDTH,PLAYER_HEIGHT,'#e6e6e6');
    }

    function colourRect(leftX,topY, width,height, drawColor) {
        canvasContext.fillStyle = drawColor;
        canvasContext.fillRect(leftX,topY, width,height);
    }

    function spawnProjectile() {
        // spawns bullet and adds it to array
        var newBullet = new bullet();
        newBullet.init();
        bullets.push(newBullet);

        // projectile
        colourRect(10, 10, 10, 10, 'red');

    }

</script>

</html>